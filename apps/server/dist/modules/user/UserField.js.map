{"version":3,"file":"UserField.js","names":["userTypeField","key","type","UserType","resolve","obj","args","context","UserLoader","load","userEdgeField","edgeField","connection","UserConnection","name","edgeName","userConnectionField","me","connectionArgs","_","user","_id"],"sources":["../../../src/modules/user/UserField.ts"],"sourcesContent":["import { connectionArgs } from 'graphql-relay';\n\nimport { edgeField } from '../graphql/edgeField';\n\nimport * as UserLoader from './UserLoader';\nimport { UserType, UserConnection } from './UserType';\n\nexport const userTypeField = (key = 'user') => ({\n  [key]: {\n    type: UserType,\n    resolve: async (obj: any, args: any, context: any) => UserLoader.load(context, obj[key]),\n  },\n});\n\nexport const userEdgeField = edgeField({\n  connection: UserConnection,\n  load: UserLoader.load,\n  name: 'User',\n  edgeName: 'userEdge',\n});\n\nexport const userConnectionField = () => ({\n  me: {\n    type: UserType,\n    args: {\n      ...connectionArgs,\n    },\n    resolve: (_: any, args: any, context: any) => {\n      return UserLoader.load(context, context.user?._id);\n    },\n  },\n});\n"],"mappings":";;;;;;;AAAA;;AAEA;;AAEA;;AACA;;;;;;;;;;;;;;;;AAEO,MAAMA,aAAa,GAAG,CAACC,GAAG,GAAG,MAAP,MAAmB;EAC9C,CAACA,GAAD,GAAO;IACLC,IAAI,EAAEC,kBADD;IAELC,OAAO;MAAA,6BAAE,WAAOC,GAAP,EAAiBC,IAAjB,EAA4BC,OAA5B;QAAA,OAA6CC,UAAU,CAACC,IAAX,CAAgBF,OAAhB,EAAyBF,GAAG,CAACJ,GAAD,CAA5B,CAA7C;MAAA,CAAF;;MAAA;QAAA;MAAA;IAAA;EAFF;AADuC,CAAnB,CAAtB;;;AAOA,MAAMS,aAAa,GAAG,IAAAC,oBAAA,EAAU;EACrCC,UAAU,EAAEC,wBADyB;EAErCJ,IAAI,EAAED,UAAU,CAACC,IAFoB;EAGrCK,IAAI,EAAE,MAH+B;EAIrCC,QAAQ,EAAE;AAJ2B,CAAV,CAAtB;;;AAOA,MAAMC,mBAAmB,GAAG,OAAO;EACxCC,EAAE,EAAE;IACFf,IAAI,EAAEC,kBADJ;IAEFG,IAAI,oBACCY,4BADD,CAFF;IAKFd,OAAO,EAAE,CAACe,CAAD,EAASb,IAAT,EAAoBC,OAApB,KAAqC;MAAA;;MAC5C,OAAOC,UAAU,CAACC,IAAX,CAAgBF,OAAhB,mBAAyBA,OAAO,CAACa,IAAjC,kDAAyB,cAAcC,GAAvC,CAAP;IACD;EAPC;AADoC,CAAP,CAA5B"}