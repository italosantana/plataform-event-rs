{"version":3,"file":"getContext.js","names":["getContext","ctx","dataloaders","getDataloaders","req","website"],"sources":["../src/getContext.ts"],"sourcesContent":["import { Request } from \"koa\";\n\nimport { User } from \"./modules/user/UserModel\";\nimport { getDataloaders } from \"./modules/loader/loaderRegister\";\nimport { GraphQLContext } from \"./modules/graphql/types\";\n\ntype ContextVars = {\n    website?: User | null;\n    req?: Request;\n};\n\nexport const getContext = async (ctx: ContextVars) => {\n    const dataloaders = getDataloaders();\n\n    return {\n        req: ctx.req,\n        dataloaders,\n        website: ctx.website,\n    } as GraphQLContext;\n};\n"],"mappings":";;;;;;;AAGA;;;;;;AAQO,MAAMA,UAAU;EAAA,6BAAG,WAAOC,GAAP,EAA4B;IAClD,MAAMC,WAAW,GAAG,IAAAC,8BAAA,GAApB;IAEA,OAAO;MACHC,GAAG,EAAEH,GAAG,CAACG,GADN;MAEHF,WAFG;MAGHG,OAAO,EAAEJ,GAAG,CAACI;IAHV,CAAP;EAKH,CARsB;;EAAA,gBAAVL,UAAU;IAAA;EAAA;AAAA,GAAhB"}